!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"};class t{constructor(e,t,s,r,i,a){let{isLiked:n,_id:o,name:l,link:c}=e;this._isLiked=n,this._id=o,this._name=l,this._link=c,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteClick=r,this._handleCardLike=i,this._checkIfLiked=a}_setEventListeners(){this._cardElement.querySelector(".heart-button").addEventListener("click",(()=>{this._handleHeartButton(),this._handleCardLike(this)})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this._handleDeleteClick(this)})),this._cardImageEl.addEventListener("click",(()=>{this._handleImageClick(this._name,this._link)}))}_handleHeartButton(){console.log(this._cardElement),this._cardElement.querySelector(".heart-button").classList.toggle("heart-button_active")}domDeleteCard(){this._cardElement.remove(),this._cardElement=null}generateCard(){return this._cardElement=this._cardSelector.cloneNode(!0),this._cardImageEl=this._cardElement.querySelector(".card__image"),this._cardTitleEl=this._cardElement.querySelector(".card__title"),this._setEventListeners(),this._cardImageEl.src=this._link,this._cardImageEl.alt=this._name,this._cardTitleEl.textContent=this._name,this._checkIfLiked(this._isLiked,this._cardElement),this._cardElement}}class s{constructor(e,t){this._form=t,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._errorList=e.errorList,this._inputElements=Array.from(this._form.querySelectorAll(this._inputSelector)),this._submitButton=this._form.querySelector(this._submitButtonSelector)}_showInputError(e){this._errorMessageElement=this._form.querySelector(`#${e.id}-error`),e.classList.add(this._inputErrorClass),this._errorMessageElement.textContent=e.validationMessage,this._errorMessageElement.classList.add(this._errorClass)}_hideInputError(e){this._errorMessageElement=this._form.querySelector(`#${e.id}-error`),e.classList.remove(this._inputErrorClass),this._errorMessageElement.textContent="",this._errorMessageElement.classList.remove(this._errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return Array.from(this._inputElements).some((e=>!e.validity.valid))}toggleButtonState(){this._hasInvalidInput()?(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0):(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1)}_setEventListeners(){this._inputElements.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this.toggleButtonState(),this._setEventListeners()}resetValidation(){this._form.reset(),this.toggleButtonState(),this._inputElements.forEach((e=>{this._hideInputError(e)}))}}class r{constructor(e){this._modalSelector=e,this._modal=document.querySelector(this._modalSelector),this._closeWithEsc=this._closeWithEsc.bind(this),this._closeWithClick=this._closeWithClick.bind(this)}open(){this._modal.classList.add("modal_opened"),document.addEventListener("keydown",this._closeWithEsc),this._modal.addEventListener("click",this._closeWithClick)}close(){document.removeEventListener("keydown",this._closeWithEsc),this._modal.removeEventListener("click",this._closeWithClick),this._modal.classList.remove("modal_opened")}_closeWithEsc(e){"Escape"===e.key&&this.close()}_closeWithClick(e){e.target===e.currentTarget&&this.close()}setEventListeners(){const e=this._modal.querySelector(".modal__close");e&&e.addEventListener("click",(()=>{console.log("Close button clicked"),this.close()}))}}class i extends r{constructor(e,t){super(e),this._modalForm=this._modal.querySelector(".modal__form"),this._inputList=[...this._modalForm.querySelectorAll(".modal__input")],this._handleFormSubmit=t}close(){super.close(this._modal)}setLoading(e,t){const s=this._modal.querySelector(".modal__button");console.log(s),s.textContent=e?t:"Save"}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),console.log(e),e}setEventListeners(){super.setEventListeners(),this._modalForm.addEventListener("submit",(e=>{e.preventDefault(),console.log(this._getInputValues),this._handleFormSubmit(this._getInputValues()),this._modalForm.reset()}))}}const a=document.querySelector(".profile__avatar_edit-button"),n=document.querySelector("#profile-edit-button"),o=document.querySelector("#profile-edit-modal"),l=document.querySelector("#profile-name-input"),c=document.querySelector("#profile-badge-input"),d=o.querySelector("#modal-form-1"),h=document.querySelector("#avatar-change-modal").querySelector("#modal-form-3"),_=document.querySelector("#card-template").content.firstElementChild,u=(document.querySelector(".cards"),document.querySelector("#card-add-button")),m=document.querySelector("#card-add-modal").querySelector("#modal-form-2"),g=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}addItem(e){this._container.prepend(e)}renderItems(e){e.forEach((e=>{this._renderer(e)}))}}({renderer:e=>{g.addItem(k(e))}},".cards"),p=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}async getIntitialCards(){const e=await fetch(this._baseUrl+"/cards",{headers:this._headers});return await this._checkResponse(e)}async getUserInfo(){const e=await fetch(this._baseUrl+"/users/me",{headers:this._headers});return await this._checkResponse(e)}async deleteCard(e){const t=await fetch(this._baseUrl+"/cards/"+e,{method:"DELETE",headers:this._headers});return await this._checkResponse(t)}async addCard(e){const t=await fetch(this._baseUrl+"/cards",{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.cardUrl})});return await this._checkResponse(t)}async updateProfile(e){const t=await fetch(this._baseUrl+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.badge})});return await this._checkResponse(t)}async addLikes(e){console.log(e);const t=await fetch(this._baseUrl+"/cards/"+e+"/likes",{method:"PUT",headers:this._headers});return await this._checkResponse(t)}async removeLikes(e){const t=await fetch(this._baseUrl+"/cards/"+e+"/likes",{method:"DELETE",headers:this._headers});return await this._checkResponse(t)}async checkLikesTruthy(e){const t=await fetch(this._baseUrl+"/cards/"+e,{method:"GET",headers:this._headers});return await this._checkResponse(t)}async updateAvatar(e){const t=await fetch(this._baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})});return await this._checkResponse(t)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"53632a1f-419c-4aa1-93c5-782b5878b96a","Content-Type":"application/json"}});p.getIntitialCards().then((e=>{g.renderItems(e)})).catch((e=>{console.error(e)})),p.getUserInfo().then((e=>{console.log(e),L.setUserInfo(e.name,e.about,e.avatar)}));const v=new i("#profile-edit-modal",(function(e){let{name:t,badge:s}=e;L.setUserInfoOnSubmit(t,s),v.setLoading(!0,"Saving..."),p.updateProfile({name:t,badge:s}).then((e=>{console.log(e)})).finally(v.setLoading(!1,"Saving...")),v.close()}));v.setEventListeners();const E=new i("#card-add-modal",(function(e){let{name:t,cardUrl:s}=e;g.addItem(k({name:t,link:s})),E.setLoading(!0,"Saving..."),p.addCard({name:t,cardUrl:s}).then((e=>{console.log(e)})).finally(E.setLoading(!1,"Saving...")),E.close()}));E.setEventListeners();const b=new class extends r{constructor(e){super(e),this._previewImageModal=this._modal,this._image=this._previewImageModal.querySelector("#modal-preview-image-src"),this._text=this._previewImageModal.querySelector(".modal__image-preview_text")}open(e,t){this._image.src=t,this._image.alt=e,this._text.textContent=e,super.open()}}("#image-preview-modal");b.setEventListeners();const S=new class extends r{constructor(e,t){super(e),this.handleFormSubmit=t}open(e){this.card=e,console.log(this.card._id),super.open(this._modal)}close(){super.close(this._modal)}setLoadingConfirm(e,t){const s=this._modal.querySelector(".modal__button_delete-check");console.log(s),s.textContent=e?t:"Save"}setEventListeners(){super.setEventListeners(),this._modal.addEventListener("submit",(e=>{e.preventDefault(),this.handleFormSubmit(this.card)}))}}("#delete-check-modal",(function(e){console.log(e._id),p.deleteCard(e._id).then((t=>{console.log(t),e.domDeleteCard(),S.close()}))}));S.setEventListeners();const f=new i("#avatar-change-modal",(function(e){console.log(e.avatarUrl),f.setLoading(!0,"Saving..."),p.updateAvatar(e.avatarUrl).then((e=>{console.log(e)})).finally(f.setLoading(!1,"Saving...")),L.setAvatarPic(e.avatarUrl),f.close()}));f.setEventListeners();const L=new class{constructor(e,t,s){this._name=document.querySelector(e),this._badge=document.querySelector(t),this._avatar=document.querySelector(s)}getUserInfo(){return{name:this._name.textContent.trim(),badge:this._badge.textContent}}setUserInfoOnSubmit(e,t){this._name.textContent=e,this._badge.textContent=t}setUserInfo(e,t,s){this._name.textContent=e,this._badge.textContent=t,this._avatar.src=s}setAvatarPic(e){this._avatar.src=e}}(".profile__name",".profile__badge",".profile__picture");function y(e,t){b.open(e,t)}function k(e){return new t(e,_,y,w,B,C).generateCard()}function C(e,t){!0===e&&t.querySelector(".heart-button").classList.toggle("heart-button_active")}function w(e){console.log(e),S.open(e)}const I=new s(e,d),q=new s(e,m),U=new s(e,h);function B(e){!1===e.isLiked?p.addLikes(e._id).then((e=>{console.log(e)})):(p.removeLikes(e._id).then((e=>{console.log(e)})),console.log(e._id))}U.enableValidation(),I.enableValidation(),q.enableValidation(),n.addEventListener("click",(()=>{const e=L.getUserInfo();I.resetValidation(),l.value=e.name,c.value=e.badge,v.open()})),u.addEventListener("click",(()=>{E.open(),q.toggleButtonState()})),a.addEventListener("click",(()=>{f.open(),U.toggleButtonState()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxLQUFLZ0UsRUFDMUIsQ0FHQSxNQUFNbUQsRUFBb0IsSUFBSS9KLEVBQzVCOUMsRUFDQXFILEdBRUl5RixFQUFvQixJQUFJaEssRUFBYzlDLEVBQW9CMkgsR0FDMURvRixFQUFzQixJQUFJakssRUFDOUI5QyxFQUNBc0gsR0E0REYsU0FBU3pHLEVBQWVnSixJQUNHLElBQXJCQSxFQUFTOUksUUFDWHlILEVBQUk4QixTQUFTVCxFQUFTN0ksS0FBSzZKLE1BQU05QixJQUMvQjdHLFFBQVFDLElBQUk0RyxFQUFJLEtBR2xCUCxFQUFJK0IsWUFBWVYsRUFBUzdJLEtBQUs2SixNQUFNOUIsSUFDbEM3RyxRQUFRQyxJQUFJNEcsRUFBSSxJQUVsQjdHLFFBQVFDLElBQUkwSCxFQUFTN0ksS0FFekIsQ0FwRUErTCxFQUFvQmpJLG1CQUNwQitILEVBQWtCL0gsbUJBQ2xCZ0ksRUFBa0JoSSxtQkFzRWxCbUMsRUFBa0JsRixpQkFBaUIsU0FBUyxLQUMxQyxNQUFNaUwsRUFBWTlCLEVBQUsxQixjQUN2QnFELEVBQWtCN0gsa0JBQ2xCbUMsRUFBaUJKLE1BQVFpRyxFQUFVL0wsS0FDbkNtRyxFQUFrQkwsTUFBUWlHLEVBQVUzQyxNQUNwQ2UsRUFBaUIxRixNQUFNLElBR3pCZ0MsRUFBYzNGLGlCQUFpQixTQUFTLEtBQ3RDeUosRUFBYTlGLE9BQ2JvSCxFQUFrQnBJLG1CQUFtQixJQUd2Q3NDLEVBQWNqRixpQkFBaUIsU0FBUyxLQUN0Q21LLEVBQWtCeEcsT0FDbEJxSCxFQUFvQnJJLG1CQUFtQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL01vZGFsLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Nb2RhbFdpdGhGb3JtLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvTW9kYWxXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL01vZGFsV2l0aENvbmZpcm0uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgdGl0bGU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTE2Njg3NDAxNzk3LTI1Mjk3ZmYxNDYyYz93PTYwMCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZxPTYwJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4elpXRnlZMmg4Tm54OGVXOXpaVzFwZEdVbE1qQnVZWFJwYjI1aGJDVXlNSEJoY210OFpXNThNSHg4TUh4OGZEQSUzRFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1Mzk2Njc1NDc1MjktODRjNjA3MjgwZDIwP3c9NjAwJmF1dG89Zm9ybWF0JmZpdD1jcm9wJnE9NjAmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh6WldGeVkyaDhOSHg4YkdGclpTVXlNR3h2ZFdselpYeGxibnd3Zkh3d2ZIeDhNQSUzRCUzRFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2MDEwMjUyNTIwMzYtMzZmYWY5MTQ2NzlkP3E9ODAmdz0xODU4JmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6IFwiTGF0ZW1hclwiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTUzNjQzMTMxMTcxOS0zOThiNjcwNGQ0Y2M/dz02MDAmYXV0bz1mb3JtYXQmZml0PWNyb3AmcT02MCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHpaV0Z5WTJoOE1UQjhmR3hoZEdWdFlYSjhaVzU4TUh4OE1IeDhmREElM0RcIixcclxuICB9LFxyXG4gIHtcclxuICAgIHRpdGxlOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTY1MDUzMzEzOTYxMC0wZjRmNWMwYzM0YmY/dz02MDAmYXV0bz1mb3JtYXQmZml0PWNyb3AmcT02MCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHpaV0Z5WTJoOE1ueDhkbUZ1YjJselpTVXlNRzVoZEdsdmJtRnNKVEl3Y0dGeWEzeGxibnd3Zkh3d2ZIeDhNQSUzRCUzRFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2MDE4OTM5MjA4OTUtZTNlZDRhNjU1ZDI3P3c9NjAwJmF1dG89Zm9ybWF0JmZpdD1jcm9wJnE9NjAmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh6WldGeVkyaDhNbng4YkdGbmJ5VXlNR1JwSlRJd1luSmhhV1Z6ZkdWdWZEQjhmREI4Zkh3d1wiLFxyXG4gIH0sXHJcbl07XHJcblxyXG5leHBvcnQgY29uc3QgY2FyZERhdGEgPSB7XHJcbiAgdGl0bGU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXHJcbiAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTUxNjY4NzQwMTc5Ny0yNTI5N2ZmMTQ2MmM/dz02MDAmYXV0bz1mb3JtYXQmZml0PWNyb3AmcT02MCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHpaV0Z5WTJoOE5ueDhlVzl6WlcxcGRHVWxNakJ1WVhScGIyNWhiQ1V5TUhCaGNtdDhaVzU4TUh4OE1IeDhmREElM0RcIixcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uU2V0dGluZ3MgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxyXG59O1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHsgaXNMaWtlZCwgX2lkLCBuYW1lLCBsaW5rIH0sXHJcbiAgICBjYXJkU2VsZWN0b3IsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXHJcbiAgICBoYW5kbGVDYXJkTGlrZSxcclxuICAgIGNoZWNrSWZMaWtlZFxyXG4gICkge1xyXG4gICAgdGhpcy5faXNMaWtlZCA9IGlzTGlrZWQ7XHJcbiAgICB0aGlzLl9pZCA9IF9pZDtcclxuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGxpbms7XHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSA9IGhhbmRsZUNhcmRMaWtlO1xyXG4gICAgdGhpcy5fY2hlY2tJZkxpa2VkID0gY2hlY2tJZkxpa2VkO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgLy8gY2FyZCBsaWtlIGJ1dHRvblxyXG4gICAgY29uc3QgaGVhcnQgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYXJ0LWJ1dHRvblwiKTtcclxuICAgIGhlYXJ0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUhlYXJ0QnV0dG9uKCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlKHRoaXMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gY2FyZCBkZWxldGUgYnV0dG9uXHJcbiAgICBjb25zdCBkZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5jYXJkX19kZWxldGUtYnV0dG9uXCJcclxuICAgICk7XHJcbiAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sodGhpcyk7XHJcbiAgICB9KTtcclxuICAgIC8vIGhhbmRsZUltYWdlQ2xpY2tcclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluayk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIEVWRU5UIExJU1RFTkVSIFBSSVZBVEUgRlVOQ1RJT05TXHJcbiAgX2hhbmRsZUhlYXJ0QnV0dG9uKCkge1xyXG4gICAgY29uc29sZS5sb2codGhpcy5fY2FyZEVsZW1lbnQpO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuaGVhcnQtYnV0dG9uXCIpXHJcbiAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwiaGVhcnQtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIC8vIERFTEVURUlORyBDQVJEUyBBRERJTkcgTElLRVNcclxuICBkb21EZWxldGVDYXJkKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICAvLyBESVNQTEFZIE9GIENBUkQgUFVCTElDIEZVTkNUSU9OXHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fY2FyZFNlbGVjdG9yLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlRWwudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fY2hlY2tJZkxpa2VkKHRoaXMuX2lzTGlrZWQsIHRoaXMuX2NhcmRFbGVtZW50KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5fZm9ybSA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yTGlzdCA9IHNldHRpbmdzLmVycm9yTGlzdDtcclxuICAgIHRoaXMuX2lucHV0RWxlbWVudHMgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgdGhpcy5fZXJyb3JNZXNzYWdlRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcclxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIHRoaXMuX2Vycm9yTWVzc2FnZUVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICB0aGlzLl9lcnJvck1lc3NhZ2VFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICB0aGlzLl9lcnJvck1lc3NhZ2VFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgdGhpcy5fZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICB0aGlzLl9lcnJvck1lc3NhZ2VFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5faW5wdXRFbGVtZW50cykuc29tZShcclxuICAgICAgKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRFbGVtZW50cy5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgdGhpcy5faW5wdXRFbGVtZW50cy5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbCB7XHJcbiAgY29uc3RydWN0b3IobW9kYWxTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fbW9kYWxTZWxlY3RvciA9IG1vZGFsU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9tb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fbW9kYWxTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9jbG9zZVdpdGhFc2MgPSB0aGlzLl9jbG9zZVdpdGhFc2MuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2Nsb3NlV2l0aENsaWNrID0gdGhpcy5fY2xvc2VXaXRoQ2xpY2suYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9tb2RhbC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fY2xvc2VXaXRoRXNjKTtcclxuICAgIHRoaXMuX21vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9jbG9zZVdpdGhDbGljayk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2Nsb3NlV2l0aEVzYyk7XHJcbiAgICB0aGlzLl9tb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fY2xvc2VXaXRoQ2xpY2spO1xyXG4gICAgdGhpcy5fbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICB9XHJcblxyXG4gIF9jbG9zZVdpdGhFc2MoZSkge1xyXG4gICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9jbG9zZVdpdGhDbGljayhlKSB7XHJcbiAgICBpZiAoZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIGNvbnN0IG1vZGFsQ2xvc2VJY29uID0gdGhpcy5fbW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2VcIik7XHJcbiAgICBpZiAobW9kYWxDbG9zZUljb24pIHtcclxuICAgICAgbW9kYWxDbG9zZUljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkNsb3NlIGJ1dHRvbiBjbGlja2VkXCIpO1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWxXaXRoRm9ybSBleHRlbmRzIE1vZGFsIHtcclxuICBjb25zdHJ1Y3Rvcihtb2RhbFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICBzdXBlcihtb2RhbFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX21vZGFsRm9ybSA9IHRoaXMuX21vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBbLi4udGhpcy5fbW9kYWxGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpXTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSh0aGlzLl9tb2RhbCk7XHJcbiAgfVxyXG5cclxuICBzZXRMb2FkaW5nKGlzTG9hZGluZywgdGV4dCkge1xyXG4gICAgY29uc3QgbW9kYWxCdXR0b24gPSB0aGlzLl9tb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idXR0b25cIik7XHJcbiAgICBjb25zb2xlLmxvZyhtb2RhbEJ1dHRvbik7XHJcbiAgICBtb2RhbEJ1dHRvbi50ZXh0Q29udGVudCA9IGlzTG9hZGluZyA/IHRleHQgOiBcIlNhdmVcIjtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcbiAgICAgIGZvcm1WYWx1ZXNbaW5wdXRFbC5uYW1lXSA9IGlucHV0RWwudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIGNvbnNvbGUubG9nKGZvcm1WYWx1ZXMpO1xyXG4gICAgcmV0dXJuIGZvcm1WYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9tb2RhbEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuX2dldElucHV0VmFsdWVzKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgdGhpcy5fbW9kYWxGb3JtLnJlc2V0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgdmFsaWRhdGlvblNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBNb2RhbFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL01vZGFsV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IE1vZGFsV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL01vZGFsV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBNb2RhbFdpdGhDb25maXJtIGZyb20gXCIuLi9jb21wb25lbnRzL01vZGFsV2l0aENvbmZpcm0uanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuXHJcbi8qIEVMRU1FTlRTICovXHJcbi8vICBQUk9GSUxFIEVMRU1FTlRTXHJcbmNvbnN0IGF2YXRhclBpY3R1cmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhcl9lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1idXR0b25cIik7XHJcbmNvbnN0IHByb2ZpbGVFZGl0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiKTtcclxuY29uc3QgcHJvZmlsZU5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1uYW1lLWlucHV0XCIpO1xyXG5jb25zdCBwcm9maWxlQmFkZ2VJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1iYWRnZS1pbnB1dFwiKTtcclxuY29uc3QgcHJvZmlsZUVkaXRGb3JtID0gcHJvZmlsZUVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWZvcm0tMVwiKTtcclxuY29uc3QgYXZhdGFyRWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdmF0YXItY2hhbmdlLW1vZGFsXCIpO1xyXG5jb25zdCBhdmF0YXJFZGl0Rm9ybSA9IGF2YXRhckVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWZvcm0tM1wiKTtcclxuLy8gQ0FSRCBFTEVNRU5UU1xyXG5jb25zdCBjYXJkVGVtcGxhdGUgPVxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKS5jb250ZW50LmZpcnN0RWxlbWVudENoaWxkO1xyXG5jb25zdCBjYXJkRGl2RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzXCIpO1xyXG4vLyBDQVJEIEFERCBCVVRUT04gRUxFTUVOVFNcclxuY29uc3QgY2FyZEFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1hZGQtYnV0dG9uXCIpO1xyXG5jb25zdCBjYXJkQWRkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtYWRkLW1vZGFsXCIpO1xyXG5jb25zdCBjYXJkQWRkRm9ybSA9IGNhcmRBZGRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWZvcm0tMlwiKTtcclxuLy8gTkVXIFNFQ1RJT04gQ0xBU1MgRk9SIENBUkRTXHJcbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0obWFrZUNhcmQoaXRlbSkpO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIFwiLmNhcmRzXCJcclxuKTtcclxuXHJcbi8vIEFQSVxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCI1MzYzMmExZi00MTljLTRhYTEtOTNjNS03ODJiNTg3OGI5NmFcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuYXBpXHJcbiAgLmdldEludGl0aWFsQ2FyZHMoKVxyXG4gIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtcyhkYXRhKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgfSk7XHJcblxyXG5hcGkuZ2V0VXNlckluZm8oKS50aGVuKChpbmZvKSA9PiB7XHJcbiAgY29uc29sZS5sb2coaW5mbyk7XHJcbiAgdXNlci5zZXRVc2VySW5mbyhpbmZvLm5hbWUsIGluZm8uYWJvdXQsIGluZm8uYXZhdGFyKTtcclxufSk7XHJcblxyXG4vLyBFZGl0IFByb2ZpbGUgTW9kYWxcclxuY29uc3QgZWRpdFByb2ZpbGVNb2RhbCA9IG5ldyBNb2RhbFdpdGhGb3JtKFxyXG4gIFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLFxyXG4gIGhhbmRsZVByb2ZpbGVFZGl0U3VibWl0XHJcbik7XHJcbmVkaXRQcm9maWxlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vTmV3IENhcmQgTW9kYWxcclxuY29uc3QgbmV3Q2FyZE1vZGFsID0gbmV3IE1vZGFsV2l0aEZvcm0oXCIjY2FyZC1hZGQtbW9kYWxcIiwgaGFuZGxlQ2FyZEFkZFN1Ym1pdCk7XHJcbm5ld0NhcmRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy9QcmV2aWV3IEltYWdlIE1vZGFsXHJcbmNvbnN0IHByZXZpZXdJbWFnZU1vZGFsID0gbmV3IE1vZGFsV2l0aEltYWdlKFwiI2ltYWdlLXByZXZpZXctbW9kYWxcIik7XHJcbnByZXZpZXdJbWFnZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL0RlbGV0ZSBDb25maXJtIE1vZGFsXHJcbmNvbnN0IGRlbGV0ZUNvbmZpcm1Nb2RhbCA9IG5ldyBNb2RhbFdpdGhDb25maXJtKFxyXG4gIFwiI2RlbGV0ZS1jaGVjay1tb2RhbFwiLFxyXG4gIGhhbmRsZUNhcmREZWxldGVTdWJtaXRcclxuKTtcclxuZGVsZXRlQ29uZmlybU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbi8vIEF2YXRhciBDaGFuZ2UgTW9kYWxcclxuY29uc3QgYXZhdGFyQ2hhbmdlTW9kYWwgPSBuZXcgTW9kYWxXaXRoRm9ybShcclxuICBcIiNhdmF0YXItY2hhbmdlLW1vZGFsXCIsXHJcbiAgaGFuZGxlQXZhdGFyQ2hhbmdlU3VibWl0XHJcbik7XHJcbmF2YXRhckNoYW5nZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL1VTRVIgSU5GTyBDTEFTU1xyXG5jb25zdCB1c2VyID0gbmV3IFVzZXJJbmZvKFxyXG4gIFwiLnByb2ZpbGVfX25hbWVcIixcclxuICBcIi5wcm9maWxlX19iYWRnZVwiLFxyXG4gIFwiLnByb2ZpbGVfX3BpY3R1cmVcIlxyXG4pO1xyXG5cclxuLyogRlVOQ1RJT05TICovXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKHRpdGxlLCBsaW5rKSB7XHJcbiAgcHJldmlld0ltYWdlTW9kYWwub3Blbih0aXRsZSwgbGluayk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1ha2VDYXJkKGNhcmREYXRhKSB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgY2FyZERhdGEsXHJcbiAgICBjYXJkVGVtcGxhdGUsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXHJcbiAgICBoYW5kbGVDYXJkTGlrZSxcclxuICAgIGNoZWNrSWZMaWtlZFxyXG4gICk7XHJcbiAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrSWZMaWtlZChpZkxpa2VkLCBlbGVtZW50KSB7XHJcbiAgaWYgKGlmTGlrZWQgPT09IHRydWUpIHtcclxuICAgIGVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuaGVhcnQtYnV0dG9uXCIpXHJcbiAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwiaGVhcnQtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKGNhcmRJZCkge1xyXG4gIGNvbnNvbGUubG9nKGNhcmRJZCk7XHJcbiAgZGVsZXRlQ29uZmlybU1vZGFsLm9wZW4oY2FyZElkKTtcclxufVxyXG5cclxuLy8gVkFMSURBVElPTlxyXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIHZhbGlkYXRpb25TZXR0aW5ncyxcclxuICBwcm9maWxlRWRpdEZvcm1cclxuKTtcclxuY29uc3QgY2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIGNhcmRBZGRGb3JtKTtcclxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIHZhbGlkYXRpb25TZXR0aW5ncyxcclxuICBhdmF0YXJFZGl0Rm9ybVxyXG4pO1xyXG5cclxuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuY2FyZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLyogRVZFTlQgSEFORExFUlMgKi9cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVFZGl0U3VibWl0KHsgbmFtZSwgYmFkZ2UgfSkge1xyXG4gIHVzZXIuc2V0VXNlckluZm9PblN1Ym1pdChuYW1lLCBiYWRnZSk7XHJcbiAgZWRpdFByb2ZpbGVNb2RhbC5zZXRMb2FkaW5nKHRydWUsIFwiU2F2aW5nLi4uXCIpO1xyXG4gIGFwaVxyXG4gICAgLnVwZGF0ZVByb2ZpbGUoeyBuYW1lLCBiYWRnZSB9KVxyXG4gICAgLnRoZW4oKG1lc3NhZ2UpID0+IHtcclxuICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoZWRpdFByb2ZpbGVNb2RhbC5zZXRMb2FkaW5nKGZhbHNlLCBcIlNhdmluZy4uLlwiKSk7XHJcbiAgZWRpdFByb2ZpbGVNb2RhbC5jbG9zZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDYXJkQWRkU3VibWl0KHsgbmFtZSwgY2FyZFVybCB9KSB7XHJcbiAgY2FyZFNlY3Rpb24uYWRkSXRlbShcclxuICAgIG1ha2VDYXJkKHtcclxuICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgbGluazogY2FyZFVybCxcclxuICAgIH0pXHJcbiAgKTtcclxuICBuZXdDYXJkTW9kYWwuc2V0TG9hZGluZyh0cnVlLCBcIlNhdmluZy4uLlwiKTtcclxuICBhcGlcclxuICAgIC5hZGRDYXJkKHsgbmFtZSwgY2FyZFVybCB9KVxyXG4gICAgLnRoZW4oKG1lc3NhZ2UpID0+IHtcclxuICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkobmV3Q2FyZE1vZGFsLnNldExvYWRpbmcoZmFsc2UsIFwiU2F2aW5nLi4uXCIpKTtcclxuICBuZXdDYXJkTW9kYWwuY2xvc2UoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQ2FyZERlbGV0ZVN1Ym1pdChjYXJkKSB7XHJcbiAgY29uc29sZS5sb2coY2FyZC5faWQpO1xyXG4gIGFwaS5kZWxldGVDYXJkKGNhcmQuX2lkKS50aGVuKChtZXNzYWdlKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcclxuICAgIGNhcmQuZG9tRGVsZXRlQ2FyZCgpO1xyXG4gICAgZGVsZXRlQ29uZmlybU1vZGFsLmNsb3NlKCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUF2YXRhckNoYW5nZVN1Ym1pdChVcmwpIHtcclxuICBjb25zb2xlLmxvZyhVcmwuYXZhdGFyVXJsKTtcclxuICBhdmF0YXJDaGFuZ2VNb2RhbC5zZXRMb2FkaW5nKHRydWUsIFwiU2F2aW5nLi4uXCIpO1xyXG4gIGFwaVxyXG4gICAgLnVwZGF0ZUF2YXRhcihVcmwuYXZhdGFyVXJsKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KGF2YXRhckNoYW5nZU1vZGFsLnNldExvYWRpbmcoZmFsc2UsIFwiU2F2aW5nLi4uXCIpKTtcclxuICB1c2VyLnNldEF2YXRhclBpYyhVcmwuYXZhdGFyVXJsKTtcclxuICBhdmF0YXJDaGFuZ2VNb2RhbC5jbG9zZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDYXJkTGlrZShjYXJkRGF0YSkge1xyXG4gIGlmIChjYXJkRGF0YS5pc0xpa2VkID09PSBmYWxzZSkge1xyXG4gICAgYXBpLmFkZExpa2VzKGNhcmREYXRhLl9pZCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgYXBpLnJlbW92ZUxpa2VzKGNhcmREYXRhLl9pZCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICB9KTtcclxuICAgIGNvbnNvbGUubG9nKGNhcmREYXRhLl9pZCk7XHJcbiAgfVxyXG59XHJcblxyXG4vKiBFVkVOVCBMSVNURU5FUlMgKi9cclxuLy8gT1BFTiBNT0RBTFxyXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHVzZXJJbnB1dCA9IHVzZXIuZ2V0VXNlckluZm8oKTtcclxuICBlZGl0Rm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuICBwcm9maWxlTmFtZUlucHV0LnZhbHVlID0gdXNlcklucHV0Lm5hbWU7XHJcbiAgcHJvZmlsZUJhZGdlSW5wdXQudmFsdWUgPSB1c2VySW5wdXQuYmFkZ2U7XHJcbiAgZWRpdFByb2ZpbGVNb2RhbC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuY2FyZEFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIG5ld0NhcmRNb2RhbC5vcGVuKCk7XHJcbiAgY2FyZEZvcm1WYWxpZGF0b3IudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxufSk7XHJcblxyXG5hdmF0YXJQaWN0dXJlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYXZhdGFyQ2hhbmdlTW9kYWwub3BlbigpO1xyXG4gIGF2YXRhckZvcm1WYWxpZGF0b3IudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxufSk7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoaW5mbykge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGluZm8uYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBpbmZvLmhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRJbnRpdGlhbENhcmRzKCkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvY2FyZHNcIiwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fY2hlY2tSZXNwb25zZShyZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL3VzZXJzL21lXCIsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgLy8gbG9hZFBhZ2UodXNlckluZm8sIGNhcmRJbmZvLCBhdmF0YXJJbmZvKSB7XHJcbiAgLy8gICByZXR1cm4gUHJvbWlzZS5hbGwodXNlckluZm8sIGNhcmRJbmZvLCBhdmF0YXJJbmZvKTtcclxuICAvLyB9XHJcblxyXG4gIGFzeW5jIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi9jYXJkcy9cIiArIGNhcmRJZCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBhd2FpdCB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGFkZENhcmQoY2FyZERhdGEpIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL2NhcmRzXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGNhcmREYXRhLm5hbWUsXHJcbiAgICAgICAgbGluazogY2FyZERhdGEuY2FyZFVybCxcclxuICAgICAgfSksXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBhd2FpdCB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHVwZGF0ZVByb2ZpbGUocHJvZmlsZUluZm8pIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL3VzZXJzL21lXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBwcm9maWxlSW5mby5uYW1lLFxyXG4gICAgICAgIGFib3V0OiBwcm9maWxlSW5mby5iYWRnZSxcclxuICAgICAgfSksXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBhd2FpdCB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGFkZExpa2VzKGNhcmRJZCkge1xyXG4gICAgY29uc29sZS5sb2coY2FyZElkKTtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgIHRoaXMuX2Jhc2VVcmwgKyBcIi9jYXJkcy9cIiArIGNhcmRJZCArIFwiL2xpa2VzXCIsXHJcbiAgICAgIHtcclxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIHJldHVybiBhd2FpdCB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHJlbW92ZUxpa2VzKGNhcmRJZCkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgICAgdGhpcy5fYmFzZVVybCArIFwiL2NhcmRzL1wiICsgY2FyZElkICsgXCIvbGlrZXNcIixcclxuICAgICAge1xyXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgY2hlY2tMaWtlc1RydXRoeShjYXJkSWQpIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL2NhcmRzL1wiICsgY2FyZElkLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgdXBkYXRlQXZhdGFyKFVybCkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvdXNlcnMvbWUvYXZhdGFyXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyOiBVcmwgfSksXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBhd2FpdCB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlc3BvbnNlKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IE1vZGFsIGZyb20gXCIuL01vZGFsLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbFdpdGhJbWFnZSBleHRlbmRzIE1vZGFsIHtcclxuICBjb25zdHJ1Y3Rvcihtb2RhbFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihtb2RhbFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3ByZXZpZXdJbWFnZU1vZGFsID0gdGhpcy5fbW9kYWw7XHJcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3ByZXZpZXdJbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI21vZGFsLXByZXZpZXctaW1hZ2Utc3JjXCJcclxuICAgICk7XHJcbiAgICB0aGlzLl90ZXh0ID0gdGhpcy5fcHJldmlld0ltYWdlTW9kYWwucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIubW9kYWxfX2ltYWdlLXByZXZpZXdfdGV4dFwiXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgb3Blbih0aXRsZSwgbGluaykge1xyXG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcclxuICAgIHRoaXMuX2ltYWdlLmFsdCA9IHRpdGxlO1xyXG4gICAgdGhpcy5fdGV4dC50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgTW9kYWwgZnJvbSBcIi4vTW9kYWwuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsV2l0aENvbmZpcm0gZXh0ZW5kcyBNb2RhbCB7XHJcbiAgY29uc3RydWN0b3IobW9kYWxTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIobW9kYWxTZWxlY3Rvcik7XHJcbiAgICB0aGlzLmhhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gIH1cclxuXHJcbiAgb3BlbihjYXJkKSB7XHJcbiAgICB0aGlzLmNhcmQgPSBjYXJkO1xyXG4gICAgY29uc29sZS5sb2codGhpcy5jYXJkLl9pZCk7XHJcbiAgICBzdXBlci5vcGVuKHRoaXMuX21vZGFsKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UodGhpcy5fbW9kYWwpO1xyXG4gIH1cclxuXHJcbiAgc2V0TG9hZGluZ0NvbmZpcm0oaXNMb2FkaW5nLCB0ZXh0KSB7XHJcbiAgICBjb25zdCBtb2RhbEJ1dHRvbiA9IHRoaXMuX21vZGFsLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLm1vZGFsX19idXR0b25fZGVsZXRlLWNoZWNrXCJcclxuICAgICk7XHJcbiAgICBjb25zb2xlLmxvZyhtb2RhbEJ1dHRvbik7XHJcbiAgICBtb2RhbEJ1dHRvbi50ZXh0Q29udGVudCA9IGlzTG9hZGluZyA/IHRleHQgOiBcIlNhdmVcIjtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX21vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLmhhbmRsZUZvcm1TdWJtaXQodGhpcy5jYXJkKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IobmFtZVNlbGVjdG9yLCBiYWRnZVNlbGVjdG9yLCBhdmF0YXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2JhZGdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihiYWRnZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LnRyaW0oKSxcclxuICAgICAgYmFkZ2U6IHRoaXMuX2JhZGdlLnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvT25TdWJtaXQobmFtZSwgYmFkZ2UpIHtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fYmFkZ2UudGV4dENvbnRlbnQgPSBiYWRnZTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKG5hbWUsIGJhZGdlLCBhdmF0YXIpIHtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fYmFkZ2UudGV4dENvbnRlbnQgPSBiYWRnZTtcclxuICAgIHRoaXMuX2F2YXRhci5zcmMgPSBhdmF0YXI7XHJcbiAgfVxyXG5cclxuICBzZXRBdmF0YXJQaWMoYXZhdGFyVVJsKSB7XHJcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gYXZhdGFyVVJsO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsidmFsaWRhdGlvblNldHRpbmdzIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJDYXJkIiwiY29uc3RydWN0b3IiLCJfcmVmIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlQ2FyZExpa2UiLCJjaGVja0lmTGlrZWQiLCJpc0xpa2VkIiwiX2lkIiwibmFtZSIsImxpbmsiLCJ0aGlzIiwiX2lzTGlrZWQiLCJfbmFtZSIsIl9saW5rIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiX2hhbmRsZUNhcmRMaWtlIiwiX2NoZWNrSWZMaWtlZCIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9jYXJkRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUhlYXJ0QnV0dG9uIiwiX2NhcmRJbWFnZUVsIiwiY29uc29sZSIsImxvZyIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImRvbURlbGV0ZUNhcmQiLCJyZW1vdmUiLCJnZW5lcmF0ZUNhcmQiLCJjbG9uZU5vZGUiLCJfY2FyZFRpdGxlRWwiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiX2Zvcm0iLCJfaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiX2Vycm9yTGlzdCIsImVycm9yTGlzdCIsIl9pbnB1dEVsZW1lbnRzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9zdWJtaXRCdXR0b24iLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJfZXJyb3JNZXNzYWdlRWxlbWVudCIsImlkIiwiYWRkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzb21lIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJkaXNhYmxlZCIsImZvckVhY2giLCJlIiwiZW5hYmxlVmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0IiwicmVzZXRWYWxpZGF0aW9uIiwicmVzZXQiLCJNb2RhbCIsIm1vZGFsU2VsZWN0b3IiLCJfbW9kYWxTZWxlY3RvciIsIl9tb2RhbCIsImRvY3VtZW50IiwiX2Nsb3NlV2l0aEVzYyIsImJpbmQiLCJfY2xvc2VXaXRoQ2xpY2siLCJvcGVuIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5IiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsInNldEV2ZW50TGlzdGVuZXJzIiwibW9kYWxDbG9zZUljb24iLCJNb2RhbFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX21vZGFsRm9ybSIsIl9pbnB1dExpc3QiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsInNldExvYWRpbmciLCJpc0xvYWRpbmciLCJ0ZXh0IiwibW9kYWxCdXR0b24iLCJfZ2V0SW5wdXRWYWx1ZXMiLCJmb3JtVmFsdWVzIiwiaW5wdXRFbCIsInZhbHVlIiwiYXZhdGFyUGljdHVyZSIsInByb2ZpbGVFZGl0QnV0dG9uIiwicHJvZmlsZUVkaXRNb2RhbCIsInByb2ZpbGVOYW1lSW5wdXQiLCJwcm9maWxlQmFkZ2VJbnB1dCIsInByb2ZpbGVFZGl0Rm9ybSIsImF2YXRhckVkaXRGb3JtIiwiY2FyZFRlbXBsYXRlIiwiY29udGVudCIsImZpcnN0RWxlbWVudENoaWxkIiwiY2FyZEFkZEJ1dHRvbiIsImNhcmRBZGRGb3JtIiwiY2FyZFNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsInJlbmRlckl0ZW1zIiwiaXRlbXMiLCJpdGVtIiwibWFrZUNhcmQiLCJhcGkiLCJpbmZvIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0SW50aXRpYWxDYXJkcyIsInJlc3BvbnNlIiwiZmV0Y2giLCJnZXRVc2VySW5mbyIsImRlbGV0ZUNhcmQiLCJjYXJkSWQiLCJtZXRob2QiLCJhZGRDYXJkIiwiY2FyZERhdGEiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmRVcmwiLCJ1cGRhdGVQcm9maWxlIiwicHJvZmlsZUluZm8iLCJhYm91dCIsImJhZGdlIiwiYWRkTGlrZXMiLCJyZW1vdmVMaWtlcyIsImNoZWNrTGlrZXNUcnV0aHkiLCJ1cGRhdGVBdmF0YXIiLCJVcmwiLCJhdmF0YXIiLCJhdXRob3JpemF0aW9uIiwidGhlbiIsImRhdGEiLCJjYXRjaCIsImVyciIsImVycm9yIiwidXNlciIsInNldFVzZXJJbmZvIiwiZWRpdFByb2ZpbGVNb2RhbCIsInNldFVzZXJJbmZvT25TdWJtaXQiLCJtZXNzYWdlIiwiZmluYWxseSIsIm5ld0NhcmRNb2RhbCIsIl9yZWYyIiwicHJldmlld0ltYWdlTW9kYWwiLCJfcHJldmlld0ltYWdlTW9kYWwiLCJfaW1hZ2UiLCJfdGV4dCIsInRpdGxlIiwiZGVsZXRlQ29uZmlybU1vZGFsIiwiY2FyZCIsInNldExvYWRpbmdDb25maXJtIiwiYXZhdGFyQ2hhbmdlTW9kYWwiLCJhdmF0YXJVcmwiLCJzZXRBdmF0YXJQaWMiLCJuYW1lU2VsZWN0b3IiLCJiYWRnZVNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfYmFkZ2UiLCJfYXZhdGFyIiwidHJpbSIsImF2YXRhclVSbCIsImlmTGlrZWQiLCJlZGl0Rm9ybVZhbGlkYXRvciIsImNhcmRGb3JtVmFsaWRhdG9yIiwiYXZhdGFyRm9ybVZhbGlkYXRvciIsInVzZXJJbnB1dCJdLCJzb3VyY2VSb290IjoiIn0=